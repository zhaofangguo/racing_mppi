<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="title" content="Rethinking Reference Trajectories in Agile Drone Racing: A Unified Reference-Free Model-Based Controller via MPPI">
  <meta name="description" content="This work introduces a reference-free method for time-optimal drone racing by incorporating a gate progress objective, derived from RL reward shaping, directly into a Model Predictive Path Integral (MPPI) formulation.">
  <meta name="keywords" content="Model Predictive Control, Autonomous Drone Racing, MPPI">
  <meta name="author" content="Fangguo Zhao, Xin Guan, Shuo Li">
  <meta name="robots" content="index, follow">
  <meta name="language" content="English">
  
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="Zhejiang University, College of Control Science and Engineering">
  <meta property="og:title" content="Rethinking Reference Trajectories in Agile Drone Racing: A Unified Reference-Free Model-Based Controller via MPPI">
  <meta property="og:description" content="This work introduces a reference-free method for time-optimal drone racing by incorporating a gate progress objective, derived from RL reward shaping, directly into a Model Predictive Path Integral (MPPI) formulation.">
  <meta property="og:url" content="">
  <meta property="og:image" content="">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Rethinking Reference Trajectories in Agile Drone Racing - Research Preview">
  <meta property="article:published_time" content="2025-09-15T00:00:00.000Z">
  <meta property="article:author" content="Fangguo Zhao">
  <meta property="article:section" content="Research">
  <meta property="article:tag" content="Model Predictive Control">
  <meta property="article:tag" content="Autonomous Drone Racing">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@ZJU_China">
  <meta name="twitter:creator" content="@YourTwitterHandle">
  <meta name="twitter:title" content="Rethinking Reference Trajectories in Agile Drone Racing: A Unified Reference-Free Model-Based Controller via MPPI">
  <meta name="twitter:description" content="This work introduces a reference-free method for time-optimal drone racing by incorporating a gate progress objective, derived from RL reward shaping, directly into a Model Predictive Path Integral (MPPI) formulation.">
  <meta name="twitter:image" content="">
  <meta name="twitter:image:alt" content="Rethinking Reference Trajectories in Agile Drone Racing - Research Preview">

  <meta name="citation_title" content="Rethinking Reference Trajectories in Agile Drone Racing: A Unified Reference-Free Model-Based Controller via MPPI">
  <meta name="citation_author" content="Zhao, Fangguo">
  <meta name="citation_author" content="Guan, Xin">
  <meta name="citation_author" content="Li, Shuo">
  <meta name="citation_publication_date" content="2025">
  <meta name="citation_conference_title" content="2025">
  <meta name="citation_pdf_url" content="">
  
  <meta name="theme-color" content="#2563eb">
  <meta name="msapplication-TileColor" content="#2563eb">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://ajax.googleapis.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">

  <title>Rethinking Reference Trajectories in Agile Drone Racing</title>
  
  <link rel="icon" type="image/x-icon" href="">
  <link rel="apple-touch-icon" href="">
  
  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/index.css">
  
  <link rel="preload" href="static/css/fontawesome.all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  
  <noscript>
    <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  </noscript>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <script defer src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="static/js/fontawesome.all.min.js"></script>
  <script defer src="static/js/index.js"></script>
  
</head>
<body>

  <button class="scroll-to-top" onclick="scrollToTop()" title="Scroll to top" aria-label="Scroll to top">
    <i class="fas fa-chevron-up"></i>
  </button>

  <main id="main-content">
  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">Rethinking Reference Trajectories in Agile Drone Racing: A Unified Reference-Free Model-Based Controller via MPPI</h1>
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                <a href="" target="_blank">Fangguo Zhao</a>,</span>
                <span class="author-block">
                  <a href="" target="_blank">Xin Guan</a>,</span>
                  <span class="author-block">
                    <a href="" target="_blank">Shuo Li</a>
                  </span>
                  </div>

                  <div class="is-size-5 publication-authors">
                    <span class="author-block">College of Control Science and Engineering, Zhejiang University<br></span>
                  </div>

                  <!-- <div class="column has-text-centered">
                    <div class="publication-links">
                      <span class="link-block">
                        <a href="https://arxiv.org/" target="_blank"
                        class="external-link button is-normal is-rounded is-dark">
                        <span class="icon">
                          <i class="fas fa-file-pdf"></i>
                        </span>
                        <span>Paper</span>
                      </a>
                    </span> -->

                  <span class="link-block">
                    <a href="https://zhaofangguo.github.io/racing_mppi/" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code (coming soon)</span>
                  </a>
                </span>

                <span class="link-block">
                  <a href="https://arxiv.org/abs/2509.14726" target="_blank"
                  class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                    <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <video poster="" id="tree" autoplay controls muted loop height="100%" preload="metadata">
        <source src="static/videos/MPPI_sample.mp4" type="video/mp4">
      </video>
      <h2 class="subtitle has-text-centered">
        Fly only with waypints: A reference-free framework for agile drone racing via Model Predictive Path Integral (MPPI) control, capable of optimizing discontinuous, non-differentiable objectives in real-time.
      </h2>
    </div>
  </div>
</section>
<section class="section hero is-light">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            While model-based controllers have demonstrated remarkable performance in autonomous drone racing, their performance is often constrained by the reliance on pre-computed reference trajectories. Conventional approaches, such as <i>trajectory tracking</i>, demand a dynamically feasible, full-state reference, whereas <i>contouring control</i> relaxes this requirement to a geometric path but still necessitates a reference. Recent advancements in reinforcement learning (RL) have revealed that many model-based controllers optimize surrogate objectives, such as trajectory tracking, rather than the primary racing goal of directly maximizing progress through gates. Inspired by these findings, this work introduces a reference-free method for time-optimal racing by incorporating this gate progress objective, derived from RL reward shaping, directly into the Model Predictive Path Integral (MPPI) formulation. The sampling-based nature of MPPI makes it uniquely capable of optimizing the discontinuous and non-differentiable objective in real-time. We also establish a unified framework that leverages MPPI to systematically and fairly compare three distinct objective functions with a consistent dynamics model and parameter set: classical trajectory tracking, contouring control, and the proposed gate progress objective. We compare the performance of these three objectives when solved via both MPPI and a traditional gradient-based solver. Our results demonstrate that the proposed reference-free approach achieves competitive racing performance, rivaling or exceeding reference-based methods.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="hero is-small">
    <div class="hero-body">
      <div class="container">
        <h2 class="title is-3 has-text-centered">Framework Overview</h2>
        <img src="static/images/full_fig.png" alt="A conceptual illustration of the MPPI framework comparing reference-free gate progress with reference-based objectives like Trajectory Tracking and Contouring Control." style="width: 100%; border-radius: 10px;"/>
        <h2 class="subtitle has-text-centered" style="margin-top: 1rem;">
          A conceptual illustration of the unified MPPI framework. (a) The core sampling and weighting stage of MPPI. (b) A comparison of the proposed reference-free gate progress objective with two conventional reference-based objectives: Trajectory Tracking and Contouring Control.
        </h2>
      </div>
      <div class="container">
        <!-- <h2 class="title is-3 has-text-centered">Framework Overview</h2> -->
        <img src="static/images/gate_switch_with_sample.png" alt="A conceptual illustration of the MPPI framework comparing reference-free gate progress with reference-based objectives like Trajectory Tracking and Contouring Control." style="width: 100%; border-radius: 10px;"/>
        <h2 class="subtitle has-text-centered" style="margin-top: 1rem;">
          The left panel shows states within the predictive horizon being assigned different target gate indices (using different color) to achieve rapid progress along the track. To ensure the stable switching, we propose the temporally consistent strategy shown on the right, where an index switch only occurs for states that pass through the gate between two consecutive control loops. This logic, combined with the gate progress objective enables reference-free racing.
        </h2>
      </div>
    </div>
</section>
<section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container">
      <h2 class="title is-3">Video Presentation</h2>
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <div class="publication-video">
            <iframe src="https://www.youtube.com/embed/6dNSZ2FRhfA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="section" id="results">
  <div class="container is-max-desktop">
    <h2 class="title is-3">Results</h2>

    <h3 class="title is-4">Simulation Results</h3>
    <div class="content has-text-centered" style="margin-bottom: 3rem;">
      <img src="static/images/results/sim_in_one.png" alt="Flight trajectories generated by our unified MPPI framework on three tracks of increasing difficulty: Circle (a-c), Figure-8 (d-f), and Split-S (g-i). All the flight trajectories are tested under identical system dynamics and controller settings." style="width: 100%; border-radius: 10px;"/>
      <p class="has-text-centered" style="margin-top: 0.5rem;">
        Flight trajectories generated by our unified MPPI framework on three tracks of increasing difficulty: Circle (a-c), Figure-8 (d-f), and Split-S (g-i). All the flight trajectories are tested under identical system dynamics and controller settings.
      </p>
      <img src="static/images/results/sim_table.png" alt="Comparison across different objectives. 'Opt.' refers to the gradient-based OCP solver, while 'Ours' refers to our MPPI-based implementation." style="width: 100%; border-radius: 10px;"/>
      <p class="has-text-centered" style="margin-top: 0.5rem;">
        Comparison across different objectives. 'Opt.' refers to the gradient-based OCP solver, while 'Ours' refers to our MPPI-based implementation.
      </p>
  </div>
  <!-- <h3 class="title is-5">Videos</h3> -->
    <!-- <div class="columns is-vcentered">
      <div class="column is-one-third">
        <div class="field">
          <label class="label">Track</label>
          <div class="control">
            <div class="select is-fullwidth">
              <select id="simTrack">
                <option value="circle">Circle</option>
                <option value="figure8">Figure-8</option>
                <option value="spilts">Split-S</option>
              </select>
            </div>
          </div>
        </div>
        <div class="field">
          <label class="label">Objective</label>
          <div class="control">
            <div class="select is-fullwidth">
              <select id="simObjective">
                <option value="MPC">Trajectory Tracking</option>
                <option value="MPCC">Contouring Control</option>
                <option value="RL">Gate Progress (Ours)</option>
              </select>
            </div>
          </div>
        </div>
        <div class="field">
          <label class="label">Solver</label>
          <div class="control">
            <div class="select is-fullwidth">
              <select id="simSolver">
                <option value="MPPI">MPPI</option>
                <option value="acados">Acados (Gradient-based)</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="column">
        <div class="video-container">
          <img id="simResultImage" src="static/images/results/sim_circle_tracking_mppi.png" alt="Simulation Result Image" style="width: 100%; border-radius: 10px; margin-bottom: 1rem;">
          
          <video id="simVideoPlayer" src="static/videos/results/sim_circle_tracking_mppi.mp4" controls muted loop preload="metadata" style="width: 100%; border-radius: 10px;"></video>
          <p id="simVideoDescription" class="has-text-centered" style="margin-top: 0.5rem;"></p>
        </div>
      </div>
    </div> -->

    <h3 class="title is-4" style="margin-top: 2rem;">Real-World Experiments</h3>
    <div class="content has-text-centered" style="margin-bottom: 3rem;">
      <img src="static/images/results/real_in_one.png" alt="Flight trajectories generated by our unified MPPI framework on three tracks of increasing difficulty: Circle (a-c), Figure-8 (d-f), and Split-S (g-i). All the flight trajectories are tested under identical system dynamics and controller settings." style="width: 100%; border-radius: 10px;"/>
      <p class="has-text-centered" style="margin-top: 0.5rem;">
        Real-world flight validation of the three control objectives executed within our unified MPPI framework. The panels depict the quadrotor's performance using: (left) Trajectory Tracking, (middle) Contouring Control, and (right) the proposed reference-free Gate Progress objective. All three strategies were deployed using identical dynamics parameters and a consistent control input structure.
      </p>
  </div>
    <h3 class="title is-5">Videos</h3>
    <div class="columns is-vcentered">
        <div class="column is-one-third">
            <div class="field">
                <label class="label">Objective</label>
                <div class="control">
                    <div class="select is-fullwidth">
                        <select id="realObjective">
                            <option value="MPC">Trajectory Tracking</option>
                            <option value="MPCC">Contouring Control</option>
                            <option value="RL">Gate Progress (Ours)</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div class="column">
          <div class="video-container">
              <img id="realResultImage" src="static/images/results/real_tracking.png" alt="Real-world Result Image" style="width: 100%; border-radius: 10px; margin-bottom: 1rem;">

              <video id="realVideoPlayer" src="static/videos/results/real_tracking.mp4" controls muted loop preload="metadata" style="width: 100%; border-radius: 10px;"></video>
              <p id="realVideoDescription" class="has-text-centered" style="margin-top: 0.5rem;"></p>
          </div>
      </div>
    </div>
  </div>
</section>
<section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <div class="bibtex-header">
        <h2 class="title">BibTeX</h2>
        <button class="copy-bibtex-btn" onclick="copyBibTeX()" title="Copy BibTeX to clipboard">
          <i class="fas fa-copy"></i>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <pre id="bibtex-code"><code>@misc{zhao2025rethinkingreferencetrajectoriesagile,
        title={Rethinking Reference Trajectories in Agile Drone Racing: A Unified Reference-Free Model-Based Controller via MPPI}, 
        author={Fangguo Zhao and Xin Guan and Shuo Li},
        year={2025},
        eprint={2509.14726},
        archivePrefix={arXiv},
        primaryClass={cs.RO},
        url={https://arxiv.org/abs/2509.14726}, 
  }</code></pre>
    </div>
</section>
<footer class="footer">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">

          <p>
            This page was built using the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project Page Template</a> which was adopted from the <a href="https://nerfies.github.io" target="_blank">Nerfies</a> project page.
            You are free to borrow the source code of this website, we just ask that you link back to this page in the footer. <br> This website is licensed under a <a rel="license"  href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>

        </div>
      </div>
    </div>
  </div>
</footer>

<script>
  document.addEventListener('DOMContentLoaded', () => {
      // --- Simulation Logic ---
      
  
      // --- Real-World Logic ---
      const realObjectiveSelect = document.getElementById('realObjective');
      const realResultImage = document.getElementById('realResultImage'); // 新增：获取图片元素
      const realVideoPlayer = document.getElementById('realVideoPlayer');
      const realVideoDescription = document.getElementById('realVideoDescription');
  
      function updateRealContent() {
          const objective = realObjectiveSelect.value;
          
          const baseSrc = `results/real_${objective}`;
          const imageSrc = `static/images/${baseSrc}.png`; // 新增：构建图片路径
          const videoSrc = `static/videos/${baseSrc}_s.mp4`;
          
          realResultImage.src = imageSrc; // 新增：更新图片源
          realVideoPlayer.src = videoSrc;
          realVideoPlayer.load();
          
          const objectiveText = realObjectiveSelect.options[realObjectiveSelect.selectedIndex].text;
          realVideoDescription.textContent = `Showing: Real-world flight with ${objectiveText} objective.`;
      }
  
      realObjectiveSelect.addEventListener('change', updateRealContent);
  
      updateRealContent(); // 初始化
  });
  </script>

  </body>
  </html>